<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Puan Checker</title>
<style>
    body {
        background-color: #0d0d12;
        color: white;
        font-family: Arial, sans-serif;
        padding: 20px;
    }

    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
        border-radius: 12px;
        background: #111118;
        border: 1px solid #7d2bff;
        box-shadow: 0 0 20px #7d2bff33;
    }

    textarea {
        width: 100%;
        height: 150px;
        background: #000;
        color: white;
        border: 1px solid #7d2bff;
        border-radius: 8px;
        padding: 10px;
    }

    button {
        width: 100%;
        padding: 15px;
        margin-top: 10px;
        border: none;
        border-radius: 10px;
        font-size: 18px;
        cursor: pointer;
        font-weight: bold;
        color: black;
        transition: 0.2s;
    }

    #startBtn { background: #d066ff; }
    #stopBtn { background: #b433ff; }

    #startBtn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .cards-wrapper {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    .panel {
        flex: 1;
        padding: 15px;
        background: #0f0f14;
        border-radius: 12px;
        border: 1px solid #7d2bff88;
    }

    .live-card {
        background: #143c2a;
        padding: 10px;
        border-radius: 8px;
        margin-top: 10px;
        border-left: 4px solid #32ff9c;
        box-shadow: 0 0 10px #32ff9c88;
    }

    .dead-card {
        background: #3b1016;
        padding: 10px;
        border-radius: 8px;
        margin-top: 10px;
        border-left: 4px solid #ff3277;
        box-shadow: 0 0 10px #ff327788;
    }

</style>
</head>
<body>

<div class="container">
    <h1>Puan Checker</h1>

    <textarea id="cardInput" placeholder="Kartları yaz örnek:
4743401027803869|11|28|000"></textarea>

    <button id="startBtn" onclick="startCheck()">Kontrol Başlat</button>
    <button id="stopBtn" onclick="stopCheck()">Durdur</button>

    <h3 id="totalPoints">Toplam Puan: 0</h3>

    <div class="cards-wrapper">
        <div class="panel">
            <h2 style="color:#32ff9c">LIVE Kartlar</h2>
            <div id="liveList"></div>
        </div>

        <div class="panel">
            <h2 style="color:#ff3277">DEAD Kartlar</h2>
            <div id="deadList"></div>
        </div>
    </div>

</div>

<script>

let stopFlag = false;
let totalPoints = 0;

async function startCheck() {
    stopFlag = false;
    totalPoints = 0;
    document.getElementById("totalPoints").innerText = "Toplam Puan: 0";

    const startBtn = document.getElementById("startBtn");
    startBtn.disabled = true;
    startBtn.innerText = "⏳ Bekle kanks...";

    document.getElementById("liveList").innerHTML = "";
    document.getElementById("deadList").innerHTML = "";

    let lines = document.getElementById("cardInput").value.split("\n").map(l => l.trim()).filter(l => l);

    for (let line of lines) {
        if (stopFlag) break;

        let result = await checkCardReal(line);
        renderResult(result, line);

        await new Promise(r => setTimeout(r, 600));
    }

    startBtn.disabled = false;
    startBtn.innerText = "Kontrol Başlat";
}

function stopCheck() {
    stopFlag = true;
}

function extractPuan(text) {
    let match
